/*! 
* DevExpress Visualization RangeSelector (part of ChartJS)
* Version: 13.2.5
* Build date: Dec 3, 2013
*
* Copyright (c) 2012 - 2013 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: http://chartjs.devexpress.com/EULA
*/
"use strict";if(!DevExpress.MOD_VIZ_RANGESELECTOR){if(!window.DevExpress)throw Error("Required module is not referenced: core");if(!DevExpress.MOD_VIZ_CORE)throw Error("Required module is not referenced: viz-core");(function(n){n.viz.rangeSelector={utils:{}}})(DevExpress),function(n){DevExpress.viz.rangeSelector.BaseVisualElement=n.Class.inherit({ctor:function(n){this._renderer=n,this._isDrawn=!1},applyOptions:function(n){this._options=n||{},this._applyOptions(this._options)},_applyOptions:function(){},redraw:function(n){var t=this;t._isDrawn?t._update(n||t._group):(t._isDrawn=!(t._draw(n||t._group)===!1),n&&(t._group=n))},isDrawn:function(){return!!this._isDrawn},isInitialized:function(){return!!this._options},_draw:function(){},_update:function(n){n.clear(),this._draw(n)}})}(DevExpress),function(n,t,i){var u=t.viz.rangeSelector,r=t.utils,o=t.data.utils,f=u.utils,s=t.viz.core.ParseUtils,e=t.formatHelper,h=100;u.consts={fontHeightRatio:.55,emptySliderMarkerText:". . ."},u.formatValue=function(n,t){var i={value:n,valueText:e.format(n,t.format,t.precision)};return String(t.customizeText?t.customizeText.call(i,i):i.valueText)},u.RangeSelector=t.ui.Component.inherit(function(){var y=5,p={size:i,margin:{left:0,top:0,right:0,bottom:0},scale:{showCustomBoundaryTicks:!0,showMinorTicks:!0,startValue:i,endValue:i,minorTickCount:i,minorTickInterval:i,majorTickInterval:i,useTicksAutoArrangement:!0,setTicksAtUnitBeginning:!0,minRange:i,maxRange:i,placeholderHeight:i,valueType:i,label:{visible:!0,format:i,precision:i,customizeText:i},marker:{visible:!0,label:{format:i,precision:i,customizeText:i}}},selectedRange:i,sliderMarker:{visible:!0,format:i,precision:i,customizeText:i,placeholderSize:i},behavior:{snapToTicks:!0,animationEnabled:!0,moveSelectedRangeByClick:!0,manualRangeSelectionEnabled:!0,allowSlidersSwap:!0,callSelectedRangeChanged:"onMovingComplete"},background:{color:"#C0BAE1",visible:!0,image:{url:i,location:"full"}},chart:{commonSeriesSettings:{type:"area",label:{visible:!1},hoverMode:"none"},equalBarWidth:!0,topIndent:.1,bottomIndent:0,valueAxis:{min:i,max:i,inverted:!1},series:i},dataSource:i,dataSourceField:"arg",redrawOnResize:!0,theme:i,selectedRangeChanged:null,incidentOccured:n.noop},h=function(n,t,r){var o=t===i?u.consts.emptySliderMarkerText:u.formatValue(t,r),e=f.getTextBBox(n,o,r.font);return{width:Math.ceil(e.width)+2*r.padding,height:Math.ceil(e.height*u.consts.fontHeightRatio)+2*r.padding+r.pointerSize}},c=function(n,t,i){var r=u.formatValue(t,i.label),e=f.getTextBBox(n,r,i.label.font);return Math.ceil(e.width/2)},w=function(n,t,i){var r={left:t.left+i.left,top:t.top+i.top,width:n.width-t.left-t.right-i.left-i.right,height:n.height-t.top-t.bottom-i.top-i.bottom};return r.width<=0&&(r.width=1),r},b=function(n){var t,i,u;return r.isNumber(n)?t=i=u=n:n&&(r.isNumber(n.height)&&(u=n.height),r.isNumber(n.width)?t=i=n.width:n.width&&(r.isNumber(n.width.left)&&(t=n.width.left),r.isNumber(n.width.right)&&(i=n.width.right))),{widthLeft:t,widthRight:i,height:u}},k=function(n,t,i,r){var s,a=0,v=0,l,y,u=0,f=0,e=0,o;return o=b(r.placeholderSize),u=o.widthLeft||0,f=o.widthRight||0,e=o.height||0,r.visible&&(s=h(n,i.startValue,r),u||(u=s.width),l=h(n,i.endValue,r),f||(f=l.width),e||(e=Math.max(s.height,l.height))),i.label.visible&&(a=c(n,i.startValue,i),v=c(n,i.endValue,i)),u=Math.max(u,a),f=Math.max(f,v),{left:u,right:f,top:e,bottom:0}},d=function(n){n&&n.empty()},g=function(n){return n._element()},nt=function(n){return u.rangeSelectorFactory.createRangeContainer(n)},tt=function(n,t){return u.rangeSelectorFactory.createTranslator(n,t)},it=function(n,t,i){return{left:t.left,top:t.top,right:n.width-t.width-t.left,bottom:n.height-t.height-t.top+i,width:n.width,height:n.height}},rt=function(n){var t=n.option("renderer");return t?t:t=u.rangeSelectorFactory.createRenderer()},ut=function(n){return u.rangeSelectorFactory.createThemeManager(n)},l=function(t,i){var r=[n.type(t),n.type(i)];return n.inArray(),n.inArray("date",r)!=-1?"datetime":n.inArray("number",r)!=-1?"numeric":""},ft=function(n){var r,f=n._dataSource&&n._dataSource.items(),t=n.option("scale"),i=t.valueType;return i||(i=l(t.startValue,t.endValue)),(f||n.option("chart").series)&&(r=new u.SeriesDataSource({renderer:n.renderer,dataSource:f,valueType:(i||"").toLowerCase(),chart:n.option("chart"),dataSourceField:n.option("dataSourceField"),backgroundColor:n._userBackgroundColor,incidentOccured:n.option("incidentOccured")})),r},et=function(n,i,u){var o,f,e,s=!1,h;return r.isDefined(u.startValue)&&r.isDefined(u.endValue)?(s=u.inverted=u.startValue>u.endValue,f=s?u.endValue:u.startValue,e=s?u.startValue:u.endValue):(r.isDefined(u.startValue)||r.isDefined(u.endValue))&&(f=u.startValue,e=u.endValue),o=i?i.getBoundRange():new t.viz.charts.Range,h=r.isDate(f)&&r.isDate(e)&&f.getTime()===e.getTime(),f===e||h||(o.invertX=s,o.getBoundRange({minX:f,maxX:e,minVisibleX:f,maxVisibleX:e})),o.isDefinedX()||(h&&(u.valueType="numeric"),o.setStubDataX(u.valueType)),o},ot=function(n,t,i){var r,u=t.label.visible;return t.placeholderHeight?t.placeholderHeight:(r=f.getTextBBox(n,"0",t.label.font),(u?t.label.topIndent+r.height:0)+(i?t.marker.topIndent+t.marker.separatorHeight:0))},st=function(n,t,i,f){var e=t.isEmpty,a=u.rangeSelectorFactory.getTickProvider(),o,s,h,c,l=i.getBusinessRange();return o={tickInterval:e?0:n.option("scale").minorTickInterval,showCustomBoundaryTicks:t.showCustomBoundaryTicks,minorTickCount:t.minorTickCount},s={textOptions:{align:"center",font:t.label.font},renderer:n.renderer,getText:function(n){return u.formatValue(n,t.label)},translator:i,isStartTickGenerated:!r.isDefined(n.option("scale").majorTickInterval),tickInterval:t.majorTickInterval,textSpacing:y,setTicksAtUnitBeginning:t.setTicksAtUnitBeginning,useTicksAutoArrangement:t.useTicksAutoArrangement,hideLabels:e},h=e?l.minX:t.startValue,c=e?l.maxX:t.endValue,a.getFullTicks(h,c,f,s,o)},ht=function(n,t,i){var f=u.rangeSelectorFactory.getTickProvider(),r=f.getTickIntervals(n.startValue,n.endValue,t,{tickInterval:n.majorTickInterval,incidentOccured:i},{tickInterval:n.minorTickInterval,incidentOccured:i});n.minorTickInterval=r.minorTickInterval,n.majorTickInterval=r.majorTickInterval},ct=function(n,t,u,f,o){var s=r.isDefined(u.minVisibleX)?u.minVisibleX:u.minX,h=r.isDefined(u.maxVisibleX)?u.maxVisibleX:u.maxX,c;t&&!t.isEmpty()&&(o.startValue=o.inverted?h:s,o.endValue=o.inverted?s:h),c=r.isDate(o.startValue)&&r.isDate(o.endValue)&&o.startValue.getTime()===o.endValue.getTime()||o.startValue===o.endValue,o.isEmpty=!r.isDefined(o.startValue)||!r.isDefined(o.endValue)||c||o.valueType==="string",o.isEmpty?o.startValue=o.endValue=i:(ht(o,f,n.option("incidentOccured")),o.valueType!=="datetime"||r.isDefined(o.label.format)||(o.label.format=o.marker.visible?r.getDateUnitInterval(o.majorTickInterval):e.getDateFormatByTickInterval(o.startValue,o.endValue,o.majorTickInterval)))},lt=function(t,i,u){var f=n.extend(!0,{},t.option("sliderMarker")),o;return f.format||(!t.option("behavior").snapToTicks&&r.isNumber(i.startValue)&&(o=Math.abs(i.endValue-i.startValue),f.format="fixedPoint",f.precision=r.getSignificantDigitPosition(o/u)),i.valueType==="datetime"&&(i.marker.visible?f.format=r.getDateUnitInterval(r.isDefined(i.minorTickInterval)&&i.minorTickInterval!==0?i.minorTickInterval:i.majorTickInterval):r.isDefined(i.startValue)&&r.isDefined(i.endValue)&&(f.format=e.getDateFormatByTickInterval(i.startValue,i.endValue,i.minorTickInterval!==0?i.minorTickInterval:i.majorTickInterval)))),f},at=function(n){return n.valueType=="datetime"&&n.marker.visible},vt=function(n,t){var i=t.minorTickInterval||t.majorTickInterval;n=n.getBoundRange({intervalX:i})},yt=function(t,u){var f=n.extend(!0,{},t.option("scale")),h=t.option("incidentOccured"),e=0,a=new s({incidentOccured:h}),o=a.correctValueType((f.valueType||"").toLowerCase()),c;return(u&&(o=u.getCalculatedValueType()||o),o||(o=l(f.startValue,f.endValue)||"numeric"),f.valueType=o,f.valueType==="string")?(h("The type of the argument values specified in the data source is not supported."),f):(c=a.getParser(o,"scale"),r.isDefined(f.startValue)&&(e=c(f.startValue),r.isDefined(e)?f.startValue=e:(f.startValue=i,h.call(null,"Cannot parse the value specified as the startValue property of the scale configuration object."))),r.isDefined(f.endValue)&&(e=c(f.endValue),r.isDefined(e)?f.endValue=e:(f.endValue=i,h.call(null,'Cannot parse the value specified as the endValue field of the "scale" configuration object.'))),f.parser=c,f)},pt=function(n,t,i){var r=n.option("size")||{};t.height||r.height===0||(t.height=i.valueType==="datetime"&&i.marker.visible!==!1?160:120),t.width||r.width===0||(t.width=400)},wt=function(n){var r,i,u,f,t,e,o,s,h=n.container,c;if(n._isUpdating=!0,t=v(n),n._actualSize=t,i=ft(n),n._scaleOptions=yt(n,i),pt(n,t,n._scaleOptions),t.width&&t.height&&h.is(":visible"))n.stopRedraw=!1;else{n.stopRedraw=!0,n.option("incidentOccured")("RangeSelector can not be drawn as container is not visible");return}bt(n,t),u=et(n,i,n._scaleOptions),ct(n,i,u,t.width,n._scaleOptions),vt(u,n._scaleOptions),o=lt(n,n._scaleOptions,t.width),s=dt(n,n._scaleOptions),e=k(n.renderer,t,n._scaleOptions,o),r=w(t,n.option("margin"),e),f=ot(n.renderer,n._scaleOptions,at(n._scaleOptions)),n.translator=tt(u,it(t,r,f)),n._scaleOptions.ticksInfo=st(n,n._scaleOptions,n.translator,r.width),i&&i.adjustSeriesDimensions(n.translator),n.rangeContainer.applyOptions({canvas:r,scaleLabelsAreaHeight:f,sliderMarkerSpacing:e,translator:n.translator,selectedRange:s,scale:n._scaleOptions,behavior:n.option("behavior"),background:n.option("background"),chart:n.option("chart"),seriesDataSource:i,sliderMarker:o,sliderHandle:n.option("sliderHandle"),shutter:n.option("shutter"),selectedRangeChanged:a(n),setSelectedRange:function(t){n.setSelectedRange(t)}}),n._isUpdating=!1},a=function(n){return function(t,i){var r=n.option("selectedRangeChanged");n.option("selectedRange",t),r&&!i&&r(t)}},v=function(n){var i=n.container,r=n.option("size")||{},t={width:r.width,height:r.height};return i&&(t.width||(t.width=i.width()),t.height||(t.height=i.height())),n.canvas=t,t},bt=function(n,t){var i=n.renderer;i.isInitialized()?i.getRoot().applySettings({width:t.width,height:t.height}):(i.recreateCanvas(t.width,t.height),i.draw(n.container[0]))},kt=function(n,t){var i;!n.option("chart").theme&&t&&t.theme&&(i=t.theme,i&&(typeof i=="object"&&(i=i.chart||{},i.name=t.theme.name),n.option("chart").theme=i))},dt=function(n,t){var i=n.option("selectedRange"),f=t.parser||function(){return null},u=function(i,u){var e,o=t[u];return r.isDefined(i)&&(e=f(i)),r.isDefined(e)?o=e:n.option("incidentOccured").call(null,"Cannot parse the value specified as the "+u+' field of the "selectedRange" configuration object.'),o};return i?{startValue:u(i.startValue,"startValue"),endValue:u(i.endValue,"endValue")}:{startValue:t.startValue,endValue:t.endValue}},gt=function(n){var t=n._actualSize,i=v(n);return t&&(t.width!==i.width||t.height!==i.height)},ni=function(n){return t.utils.createResizeHandler(function(){gt(n)&&n._render(!0)})};return{_defaultOptions:function(){return p},_dataSourceOptions:function(){return{paginate:!1,_preferSync:!0}},_init:function(){var t=this;t.container=g(t),d(t.container),t.renderer=rt(t),t.rangeContainer=nt(t.renderer),t.option("redrawOnResize")===!0&&r.windowResizeCallbacks.add(ni(t)),n.isFunction(t.option("incidentOccured"))||t.option("incidentOccured",n.noop),t._reinitDataSource()},_reinitDataSource:function(){this._refreshDataSource()},_initOptions:function(t){var i=this,r;this._optionsInitializing=!0,t=t||{},i._userOptions=n.extend(!0,{},t),r=ut(t.theme),r.setBackgroundColor(t.containerBackgroundColor),i.option(r.applyRangeSelectorTheme(t)),kt(i,t),t.background&&(i._userBackgroundColor=t.background.color)},_render:function(n){this._optionsInitializing=!1;var t=this,r,i;wt(t),t.stopRedraw||(n?(i=t.option("behavior"),r=i.animationEnabled,i.animationEnabled=!1,t.rangeContainer.redraw(),i.animationEnabled=r):t.rangeContainer.redraw())},_optionChanged:function(n,t){var r=this;this._optionsInitializing||o.compileSetter(n)(r._userOptions,t,{functionsAsIs:!0,merge:!0}),n==="dataSource"?(r._reinitDataSource(),r._invalidate()):n==="selectedRange"?r.setSelectedRange(r.option("selectedRange")):n==="selectedRangeChanged"?r.rangeContainer.slidersContainer.selectedRangeChanged=a(r):n==="containerBackgroundColor"||n==="theme"?(this._initOptions(r._userOptions),r._invalidate()):r._invalidate()},_handleDataSourceChanged:function(){var n=this;n.renderer.isInitialized()&&n._render()},getSelectedRange:function(){var t=this,n=t.rangeContainer.slidersContainer.getSelectedRange();return{startValue:n.startValue,endValue:n.endValue}},setSelectedRange:function(n){var i=this,t;!i._isUpdating&&n&&((t=i.rangeContainer.slidersContainer.getSelectedRange(),t&&t.startValue===n.startValue&&t.endValue===n.endValue)||i.rangeContainer.slidersContainer.setSelectedRange(n))},resetSelectedRange:function(n){var t=this;t.setSelectedRange({startValue:t._scaleOptions.startValue,endValue:t._scaleOptions.endValue,blockSelectedRangeChanged:n})},render:function(n){return this._render(n),this}}}()).include(t.ui.DataHelperMixin).include(t.viz.core.loadIndicatorAPI.base)}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.RangeContainer=r.BaseVisualElement.inherit(function(){var t=function(n){this.callBase(n),this.slidersContainer=u(n),this.rangeView=e(n),this.scale=f(n)},i=function(n){var t=this,i=n.scale.isEmpty,r={left:n.canvas.left,top:n.canvas.top,width:n.canvas.width,height:n.canvas.height>=n.scaleLabelsAreaHeight?n.canvas.height-n.scaleLabelsAreaHeight:0};t._viewCanvas=r,t.slidersContainer.applyOptions({canvas:r,translator:n.translator,scale:n.scale,selectedRange:n.selectedRange,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,behavior:n.behavior,selectedRangeChanged:n.selectedRangeChanged,isEmpty:i}),t.rangeView.applyOptions({canvas:r,translator:n.translator,background:n.background,chart:n.chart,seriesDataSource:n.seriesDataSource,behavior:n.behavior,isEmpty:i}),t.scale.applyOptions({canvas:n.canvas,translator:n.translator,scale:n.scale,hideLabels:i,scaleLabelsAreaHeight:n.scaleLabelsAreaHeight,setSelectedRange:n.setSelectedRange})},u=function(n){return r.rangeSelectorFactory.createSlidersContainer(n)},f=function(n){return r.rangeSelectorFactory.createScale(n)},e=function(n){return r.rangeSelectorFactory.createRangeView(n)},n=function(n,t){return{left:n.left-t.left,top:n.top-t.top,width:n.width+t.right+t.left,height:n.height+t.bottom+t.top}},o=function(){var t=this,i,e,o,s,r,h=t._options.size,u=n(t._options.canvas,t._options.sliderMarkerSpacing),f=t._viewCanvas;t._clipRect=t._renderer.createClipRect(u.left,u.top,u.width,u.height).append(),i=t._renderer.createGroup({"class":"rangeContainer",clipId:t._clipRect.id}).append(),t._viewClipRect=t._renderer.createClipRect(f.left,f.top,f.width,f.height).append(),e=t._renderer.createGroup({"class":"view",clipId:t._viewClipRect.id}),e.append(i),t.rangeView.redraw(e),o=t._renderer.createGroup({"class":"slidersContainer"}),o.append(i),t.slidersContainer.redraw(o),s=t._renderer.createGroup({"class":"scale"}),s.append(i),t.scale.redraw(s),r=t._renderer.createGroup({"class":"trackers"}),r.append(i),t._trackersGroup=r,t.slidersContainer.appendTrackers(r)},s=function(){var t=this,i=n(t._options.canvas,t._options.sliderMarkerSpacing),r=t._viewCanvas;t._clipRect.updateRectangle({x:i.left,y:i.top,width:i.width,height:i.height}),t._viewClipRect.updateRectangle({x:r.left,y:r.top,width:r.width,height:r.height}),t.rangeView.redraw(),t.slidersContainer.redraw(),t.slidersContainer.appendTrackers(t._trackersGroup),t.scale.redraw()};return{ctor:t,_applyOptions:i,_draw:o,_update:s}}())}(jQuery,DevExpress),function(n,t,i){var u=t.viz.rangeSelector,f=t.formatHelper,r=t.utils,e=5;u.Scale=u.BaseVisualElement.inherit({_setupDateUnitInterval:function(t){var f,o=function(t){var i=0;return n.each(t,function(){return++i<2}),i===1},e,i=t.ticksInfo.majorTickInterval,u=t.ticksInfo.majorTicks;if(t.valueType==="datetime"){if(r.isObject(i)&&!o(i)&&r.logger.warn('More than one field is specified within the object assigned to the "tickInterval" option. Assign an object with a single field specified (days, hours or a similar one).'),u&&u.autoArrangementStep>1){r.isString(i)&&(i=r.getDateIntervalByString(i));for(f in i)i[f]*=u.autoArrangementStep,e=r.convertDateTickIntervalToMilliseconds(i);i=r.convertMillisecondsToDateUnits(e)}this.dateUnitInterval=r.getDateUnitInterval(i)}},_prepareDatesDifferences:function(n,t){var i=t,u,f;if(i==="week"&&(i="day"),i==="quarter"&&(i="month"),n[i])for(f=0;f<r.dateUnitIntervals.length;f++)if(u=r.dateUnitIntervals[f],n[u]&&(n[u]=!1,n.count--),u===i)break},_getMarkerDate:function(n,t){var i=new Date(n.getTime()),r=0;switch(t){case"quarter":r=f.getFirstQuarterMonth(n.getMonth());case"month":i.setMonth(r);case"week":case"day":i.setDate(1);case"hour":i.setHours(0,0,0,0);break;case"millisecond":i.setMilliseconds(0);break;case"second":i.setSeconds(0,0);break;case"minute":i.setMinutes(0,0,0)}return i},_drawDateMarker:function(n,t){var r,u,f,i,e;if(t.x!==null)return i=this._options.scale,this.lineOptions["class"]="dx-range-selector-date-marker",this._renderer.createLine(t.x,t.y,t.x,t.y+i.marker.separatorHeight,this.lineOptions).append(t.group),f=this._getLabel(n,t.label),r=t.x+i.tick.width+i.marker.textLeftIndent,u=t.y+i.marker.textTopIndent+i.label.font.size,this.textOptions.align="left",e=this._renderer.createText(f,r,u,this.textOptions).append(t.group),r+e.getBBox().width},_drawDateMarkers:function(n,t){var c,i,e,o,u,h=-1,s;if(this._options.scale.valueType==="datetime"&&this.visibleMarkers&&(s=[],n.length>1)){for(i=1;i<n.length;i++)e=r.getDatesDifferences(n[i-1],n[i]),this._prepareDatesDifferences(e,this.dateUnitInterval),e.count>0&&(o=this._getMarkerDate(n[i],this.dateUnitInterval),u=this.translator.translateX(o),u>h&&(u!==null&&s.push({date:o,posX:u}),h=this._drawDateMarker(o,{group:t,y:this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,x:u,label:this._getLabelFormatOptions(f.getDateFormatByDifferences(e))})));this._initializeMarkersEvents(s,t)}},_getLabelFormatOptions:function(t){return r.isDefined(this._options.scale.marker.label.format)?this._options.scale.marker.label:n.extend({},this._options.scale.marker.label,{format:t})},_calculateRangeByMarkerPosition:function(n,t,i){var r={},f,u;for(f in t)u=t[f],i.inverted?n<u.posX?r.endValue=u.date:r.startValue||(r.startValue=u.date):n>=u.posX?r.startValue=u.date:r.endValue||(r.endValue=u.date);return r.startValue=r.startValue||i.startValue,r.endValue=r.endValue||i.endValue,r},_initializeMarkersEvents:function(n,t){var i=this,s=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight+this._options.scale.marker.topIndent,r,f,h,e,o;if(n.length>0){r=i._renderer.createRect(i._options.canvas.left,s,i._options.canvas.width,i._options.scale.marker.separatorHeight,0,{fill:"grey",stroke:"grey",opacity:.0001}),r.append(t);r.on(u.events.start,function(t){f=u.utils.getRootOffsetLeft(i._renderer),e=u.utils.getEventPageX(t)-f,o=i._calculateRangeByMarkerPosition(e,n,i._options.scale),i._options.setSelectedRange(o)});i._markersTracker=r}},_getLabel:function(n,t){var i={value:n,valueText:f.format(n,t.format,t.precision)};return String(t.customizeText?t.customizeText.call(i,i):i.valueText)},_drawLabel:function(n,t){var i=this._options.canvas.top+this._options.canvas.height-this.markersAreaHeight,r=this._renderer.createText(this._getLabel(n,this._options.scale.label),this.translator.translateX(n),i,this.textOptions);r.append(t)},_drawTick:function(n,t){this.lineOptions["class"]="dx-range-selector-tick";var r=this._options.canvas.top+this._options.canvas.height-this.scaleLabelsAreaHeight,i=this.translator.translateX(n),u=this._renderer.createLine(i,this._options.canvas.top,i,r,this.lineOptions).append(t)},_redraw:function(n){for(var r=this,u=r._options.scale,e=r._renderer.createGroup(),o=r._renderer.createGroup().append(n),f=u.ticksInfo.majorTicks,s=u.ticksInfo.minorTicks,h=u.ticksInfo.customBoundaryTicks,c=r._options.hideLabels||f.hideLabels||!u.label.visible,i=0;i<f.length;i++)c||r._drawLabel(f[i],o),r._drawTick(f[i],e);if(u.showMinorTicks)for(i=0;i<s.length;i++)r._drawTick(s[i],e);for(i=0;i<h.length;i++)r._drawTick(h[i],e);e.append(n),r._drawDateMarkers(f,o)},_applyOptions:function(n){var t=n.scale,r;this.textOptions={align:"center","class":"dx-range-selector-scale",font:t.label.font,style:{"-webkit-user-select":"none"}},this.lineOptions={strokeWidth:t.tick.width,stroke:t.tick.color,strokeOpacity:t.tick.opacity},this._setupDateUnitInterval(t),this.visibleMarkers=t.marker.visible===i?!0:t.marker.visible,r=t.label.visible?t.label.topIndent+t.label.font.size:0,this.scaleLabelsAreaHeight=n.scaleLabelsAreaHeight,this.markersAreaHeight=this.scaleLabelsAreaHeight-r,this.translator=n.translator},_draw:function(n){this._redraw(n,!1)},_update:function(n){var t=this.callBase;this._markersTracker&&this._markersTracker.off(u.events.start,"**"),this.callBase=t,this.callBase(n)}})}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector,u=t.viz.renderers;r.rangeSelectorFactory=function(){return{createRenderer:function(n){return new u.Renderer(n)},createTranslator:function(n,i){return new t.viz.core.Translator2D(n,i)},getTickProvider:function(){return t.viz.core.tickProvider},createRangeContainer:function(n){return new r.RangeContainer(n)},createSlidersContainer:function(n){return new r.SlidersContainer(n)},createScale:function(n){return new r.Scale(n)},createSliderMarker:function(n){return new r.SliderMarker(n)},createRangeView:function(n){return new r.RangeView(n)},createThemeManager:function(n){return new r.ThemeManager(n)},createSlider:function(n,t){return new r.Slider(n,t)},createSlidersEventsManager:function(n,t,i){return new r.SlidersEventsManager(n,t,i)},createSlidersController:function(n){return new r.SlidersController(n)}}}()}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector,h=t.utils,e=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,u=t.utils.isNumber,f=t.utils.isDate,o=0,s=1;r.SlidersContainer=r.BaseVisualElement.inherit(function(){return{_drawAreaTracker:function(n){var t=this,i,r;i=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:.0001}),i.append(n),r=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:.0001,style:{cursor:"pointer"}}),r.append(n),t._controller.setAreaTrackers(i,r)},_processSelectionChanged:function(n,t){var i=this,u=function(n){return n&&i._lastSelectedRange.startValue===n.startValue&&i._lastSelectedRange.endValue===n.endValue},r=i.getSelectedRange();n&&(i._options.behavior.callSelectedRangeChanged||"").toLowerCase()!=="onmoving"||!i._options.selectedRangeChanged||u(r)||(i._updateLastSelectedRange(r),typeof i._options.selectedRangeChanged=="function"&&i._options.selectedRangeChanged.call(null,r,t),n||u(r)||i.setSelectedRange(r))},_updateLastSelectedRange:function(n){n=n||this._options.selectedRange,this._lastSelectedRange={startValue:n.startValue,endValue:n.endValue}},_createSlider:function(n){return r.rangeSelectorFactory.createSlider(this._renderer,n)},_createSlidersController:function(n){return r.rangeSelectorFactory.createSlidersController(n)},_createSlidersEventsManager:function(n){var t=this;return r.rangeSelectorFactory.createSlidersEventsManager(t._renderer,n,function(n){t._processSelectionChanged(n)})},ctor:function(n){var t=this,i;t.callBase(n),i=[t._createSlider(o),t._createSlider(s)],t._controller=t._createSlidersController(i),t._eventsManager=t._createSlidersEventsManager(t._controller),t._lastSelectedRange={}},getSelectedRange:function(){return this._controller.getSelectedRange()},setSelectedRange:function(n){var t=this,i=t._options.scale,r,e,o=t._options.selectedRange;n&&(r=n.startValue,e=n.endValue),(u(i.startValue)&&u(r)||f(i.startValue)&&f(r))&&(o.startValue=r),(u(i.endValue)&&u(e)||f(i.endValue)&&f(e))&&(o.endValue=e),t._controller.applySelectedRange(o),t._controller.applyPosition(),t._processSelectionChanged(!1,n&&n.blockSelectedRangeChanged)},appendTrackers:function(n){this._controller.appendTrackers(n)},_applyOptions:function(n){var t=this;t._controller.applyOptions({translator:n.translator,canvas:n.canvas,sliderMarker:n.sliderMarker,sliderHandle:n.sliderHandle,shutter:n.shutter,scale:n.scale,behavior:n.behavior}),t._eventsManager.applyOptions({behavior:n.behavior})},_draw:function(n){var t=this,i;e&&(i=t._renderer.getRoot(),i&&(i.element.style.msTouchAction="pinch-zoom")),t._controller.redraw(n),t._drawAreaTracker(n),t._eventsManager.initialize(),t._update()},_update:function(){var n=this,t=n._options.isEmpty;n._eventsManager.setEnabled(!t),n._controller.applySelectedRange(t?{}:n._options.selectedRange),n._controller.applyPosition(n.isDrawn()),n._updateLastSelectedRange(),n._controller.redraw()}}}())}(jQuery,DevExpress),function(n,t,i){var f=t.viz.rangeSelector,e=t.utils,r=0,u=1;f.SlidersController=t.Class.inherit(function(){return{ctor:function(n){this._sliders=n,n[r].setAnotherSlider(n[u]),n[u].setAnotherSlider(n[r])},setAreaTrackers:function(n,t){this._areaTracker=n,this._selectedAreaTracker=t},applyOptions:function(n){var i=this,t=null;i._options=n,i.getSlider(r).applyOptions(n),i.getSlider(u).applyOptions(n),n.behavior.snapToTicks&&(t=n.scale.ticksInfo.fullTicks,t.length>1&&t[0]>t[t.length-1]&&(t=t.reverse())),i.getSlider(r).setAvailableValues(t),i.getSlider(u).setAvailableValues(t)},processDocking:function(n){var t=this;n!==i?t.getSlider(n).processDocking():(t.getSlider(r).processDocking(),t.getSlider(u).processDocking()),t.setTrackersCursorStyle("default"),t.applyAreaTrackersPosition()},getSelectedRangeInterval:function(){var n=this;return f.utils.getInterval(n.getSlider(r).getValue(),n.getSlider(u).getValue())},moveSliders:function(n,t){var i=this;i.getSlider(r).setPosition(i.getSlider(r).getPosition()+n,!1,t),i.applyPosition(!0)},moveSlider:function(n,t,i,u,f,e){var o=this,s=o.getSlider(n),h=s.getAnotherSlider(),l=h.getIndex(),c;s.canSwap()&&(n===r?i>h.getPosition():i<h.getPosition())&&(c=t,t||Math.abs(u)>=Math.abs(f)&&u*f<0&&(c=!0,i+=2*f,e(-f)),c&&(o.swapSliders(),h.applyPosition(!0))),s.setPosition(i,!0),s.applyPosition(!0),o.applyAreaTrackersPosition(),o.setTrackersCursorStyle("w-resize")},applySelectedAreaCenterPosition:function(n){var t=this,i=(t.getSlider(u).getPosition()-t.getSlider(r).getPosition())/2,f=t.getSelectedRangeInterval();t.getSlider(r).setPosition(n-i,!1,f),t.applyPosition(),t.processDocking()},processManualSelection:function(n,t,i){var e=this,o,f,s=[Math.min(n,t),Math.max(n,t)];o=n<t?r:u,f=n<t?u:r,e.getSlider(f).setPosition(s[f]),e.getSlider(o).setPosition(s[o]),e.getSlider(f).setPosition(s[f],!0),e.getSlider(f).startEventHandler(i),e.getSlider(o).processDocking(),e.getSlider(f).applyPosition(!0)},applySelectedRange:function(n){var t=this,i=t._options.scale.inverted;!i&&n.startValue>n.endValue||i&&n.startValue<n.endValue?(t.getSlider(r).setValue(n.endValue),t.getSlider(u).setValue(n.startValue)):(t.getSlider(r).setValue(n.startValue),t.getSlider(u).setValue(n.endValue))},getSelectedRange:function(){var n=this;return{startValue:n.getSlider(r).getValue(),endValue:n.getSlider(u).getValue()}},swapSliders:function(){var n=this;n._sliders.reverse(),n.getSlider(r).changeLocation(),n.getSlider(u).changeLocation()},applyAreaTrackersPosition:function(){var n=this,t=n.getSelectedRange(),i=n._options.scale,f=n.getSlider(u).getPosition()-n.getSlider(r).getPosition(),e={x:n.getSlider(r).getPosition(),width:f<0?0:f,y:n._options.canvas.top,height:n._options.canvas.height,style:{cursor:i.endValue-i.startValue==t.endValue-t.startValue?"default":"pointer"}};n._selectedAreaTracker.applySettings(e),n._areaTracker.applySettings({x:n._options.canvas.left,width:n._options.canvas.width,y:n._options.canvas.top,height:n._options.canvas.height})},applyPosition:function(n){var t=this;t.getSlider(r).applyPosition(n),t.getSlider(u).applyPosition(n),t.applyAreaTrackersPosition()},redraw:function(n){var t=this;t.getSlider(r).redraw(n),t.getSlider(u).redraw(n)},appendTrackers:function(n){var t=this;t._areaTracker&&t._selectedAreaTracker&&(t._areaTracker.append(n),t._selectedAreaTracker.append(n)),t.getSlider(r).appendTrackers(n),t.getSlider(u).appendTrackers(n)},getSlider:function(n){return this._sliders[n]},getAreaTracker:function(){return this._areaTracker},getSelectedAreaTracker:function(){return this._selectedAreaTracker},setTrackersCursorStyle:function(n){var t=this;t._selectedAreaTracker.applySettings({style:{cursor:n}}),t._areaTracker.applySettings({style:{cursor:n}})}}}())}(jQuery,DevExpress),function(n,t,i){var r=t.viz.rangeSelector,s=t.utils,e=function(){var n=window,t="ontouchstart"in n,i=n.navigator.msPointerEnabled,u=n.navigator.pointerEnabled;r.events={start:u?"pointerdown":i?"MSPointerDown":t?"touchstart mousedown":"mousedown",move:u?"pointermove":i?"MSPointerMove":t?"touchmove mousemove":"mousemove",end:u?"pointerup pointercancel":i?"MSPointerUp MSPointerCancel":t?"touchend mouseup":"mouseup"}};e();var f=10,u=0,o=1;r.SlidersEventsManager=t.Class.inherit(function(){var h=function(n){return r.utils.getRootOffsetLeft(n._renderer)},t=function(n){return r.utils.getEventPageX(n)},e=function(n){var r=n||window.event,t=r.originalEvent,f=r.touches,u=t?t.pointerType:!1,e=t?t.touches:!1,o=r.which===i&&r.button===1,s=t&&u!==i&&(u===(t.MSPOINTER_TYPE_TOUCH||"touch")||u===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&t.buttons===1),h=o||r.which===1,c=f&&f.length>0||e&&e.length>0;return h||s||c},c=function(n){var t=n.originalEvent,i=n.touches,r=t?t.touches:!1;return i&&i.length>1||r&&r.length>1||null},s=function(n){return n&&n.type&&n.type.indexOf("touch")===0},l=function(i,u){var w=i._renderer,y,l=i._slidersController,v=i._processSelectionChanged,f=l.getSlider(u),b=f.getAnotherSlider(),p,a,o;f.startEventHandler=function(n){i._enabled&&e(n)&&!o&&(p=this===f.getSliderTracker().element,o=!0,y=s(n),a=t(n)-f.getPosition()-h(i),c(n)||(n.stopPropagation(),n.preventDefault()))};f.on(r.events.start,f.startEventHandler);n(document).on(r.events.end,function(){o&&(o=!1,l.processDocking(),v(!1))});n(document).on(r.events.move,function(n){var d,r,u,w=h(i),b,k=f.getIndex();y===s(n)&&(!e(n,!0)&&o?(o=!1,l.processDocking(),v(!1)):o&&(c(n)||n.preventDefault(),r=t(n),b=r-a-w,u=r-f.getPosition()-w,l.moveSlider(k,p,b,u,a,function(n){a=n}),v(!0)))})},a=function(i){var p=i._renderer,l,f=i._slidersController,h=i._processSelectionChanged,y=f.getSelectedAreaTracker(),o=!1,a,v;y.on(r.events.start,function(n){i._enabled&&e(n)&&!o&&(o=!0,l=s(n),a=t(n)-f.getSlider(u).getPosition(),v=f.getSelectedRangeInterval(),c(n)||(n.stopPropagation(),n.preventDefault()))});n(document).on(r.events.end,function(){o&&(o=!1,f.processDocking(),h(!1))});n(document).on(r.events.move,function(n){var i,r;l===s(n)&&(o&&!e(n)&&(o=!1,f.processDocking(),h(!1)),o&&(c(n)||n.preventDefault(),r=t(n),i=r-f.getSlider(u).getPosition()-a,f.moveSliders(i,v),h(!0)))})},v=function(i){var y=i._renderer,a,c=i._slidersController,l=i._processSelectionChanged,v=c.getAreaTracker(),u=!1,p=!1,o;v.on(r.events.start,function(n){i._enabled&&e(n)&&!u&&(u=!0,a=s(n),o=t(n))});n(document).on(r.events.end,function(n){var r;u&&(r=t(n),i._options.behavior.moveSelectedRangeByClick&&Math.abs(o-r)<f&&c.applySelectedAreaCenterPosition(r-h(i)),u=!1,l(!1))});n(document).on(r.events.move,function(n){var r,v,y,p=h(i);a===s(n)&&(u&&!e(n)&&(u=!1,l(!1)),u&&(r=t(n),i._options.behavior.manualRangeSelectionEnabled&&Math.abs(o-r)>=f&&(v=o-p,y=r-p,c.processManualSelection(v,y,n),u=!1,l(!0))))})};return{ctor:function(n,t,i){this._renderer=n,this._slidersController=t,this._processSelectionChanged=i,this._enabled=!0},applyOptions:function(n){this._options=n},initialize:function(){var n=this;n._renderer.isInitialized()&&(a(n),v(n),l(n,u),l(n,o))},setEnabled:function(n){this._enabled=n}}}())}(jQuery,DevExpress),function(n,t,i){var f=t.viz.rangeSelector,r=t.utils,s="ontouchstart"in window,h=window.navigator.msPointerEnabled||window.navigator.pointerEnabled,o={duration:250},c=8,l=20,u=0,e=1;f.Slider=f.BaseVisualElement.inherit(function(){return{_createSlider:function(){var n=this,i,t,r=n._options.sliderHandle;return t=n._renderer.createGroup({"class":"slider"}),t.applySettings({translateX:n._options.canvas.left,translateY:n._options.canvas.top}),i=n._renderer.createLine(0,0,0,n._options.canvas.height,{"class":"dx-range-selector-slider",strokeWidth:r.width,stroke:r.color,strokeOpacity:r.opacity}),i.append(t),t.setValid=function(t){i.applySettings({stroke:t?n._options.sliderHandle.color:n._options.sliderMarker.invalidRangeColor})},t.updateHeight=function(){i.applySettings({points:[0,0,0,n._options.canvas.height]})},t.applyOptions=function(n){i.applySettings(n)},t},_createSliderTracker:function(){var n=this,r=s||h?l:c,i,t;return i=n._renderer.createRect(-r/2,0,r,n._options.canvas.height,0,{fill:"grey",stroke:"grey",opacity:.0001,style:{cursor:"w-resize"}}),t=n._renderer.createGroup({"class":"sliderTracker"}),t.applySettings({translateX:0,translateY:n._options.canvas.top}),i.append(t),t.updateHeight=function(){i.applySettings({height:n._options.canvas.height})},t},_drawSliderTracker:function(n){var i=this,t=i._createSliderTracker();t&&(t.append(n),i._sliderTracker=t)},_createSliderMarker:function(n){return f.rangeSelectorFactory.createSliderMarker(n)},_setPosition:function(n,t){var i=this,r=i._correctPosition(n),u=i._options.translator.untranslateX(r);i.setValue(u,t),i._position=r},_setPositionForBothSliders:function(n,t){var i=this,e,u,f,o,s=i._options.scale.inverted;e=i.getAnotherSlider(),n=i._correctBounds(n),u=i._options.translator.untranslateX(n),f=r.addInterval(u,t),!s&&f>i._options.scale.endValue||s&&f<i._options.scale.endValue?(f=i._options.scale.endValue,o=i._options.canvas.left+i._options.canvas.width,u=r.addInterval(f,t,!0),n=i._options.translator.translateX(u)):o=i._options.translator.translateX(f),i._values&&((s?u>i._values[i._values.length-1]:u<i._values[0])?(u=i._correctBusinessValueByAvailableValues(u),f=r.addInterval(u,t)):(f=i._correctBusinessValueByAvailableValues(f),u=r.addInterval(f,t,!0))),e.setValue(f),i.setValue(u),i._position=n,e._position=o},_correctPosition:function(n){var i=this,t=i._correctInversion(n);return t=i._correctBounds(t)},_correctInversion:function(n){var i=this,r=n,t=i.getAnotherSlider().getPosition(),f=i.getIndex()===u?n>t:n<t;return f&&(r=t),r},_correctBounds:function(n){var r=this,i=n,t=r._options.canvas;return n<t.left&&(i=t.left),n>t.left+t.width&&(i=t.left+t.width),i},_correctBusinessValue:function(n,t){var r=this,i=r._correctBusinessValueByAvailableValues(n);return t&&(i=r._correctBusinessValueByMinMaxRangeFromAnotherSlider(i)),i=r._correctBusinessValueByMinRangeFromStartEndValues(i)},_correctBusinessValueByAvailableValues:function(n){var t=this._values;return t?f.utils.findNearValue(t,n):n},_correctBusinessValueByMinMaxRangeFromAnotherSlider:function(n){var h=this,c=n,t=h._options.scale,l=h._values,y=h.getIndex(),a=h.getAnotherSlider().getValue(),v=!0,o,s;return!t.inverted&&y===u||t.inverted&&y===e?(t.maxRange&&(o=r.addInterval(a,t.maxRange,!0)),t.minRange&&(s=r.addInterval(a,t.minRange,!0))):(t.maxRange&&(s=r.addInterval(a,t.maxRange)),t.minRange&&(o=r.addInterval(a,t.minRange))),s!==i&&c>s?(c=l?f.utils.findLessOrEqualValue(l,s):s,v=!1):o!==i&&c<o&&(c=l?f.utils.findGreaterOrEqualValue(l,o):o,v=!1),h._setValid(v),c},_correctBusinessValueByMinRangeFromStartEndValues:function(n){var f=this,h=f._values,o,s,c=!0,t=f._options.scale,i=n;return t.minRange&&(f.getIndex()===e?(o=r.addInterval(t.startValue,t.minRange,t.inverted),(!t.inverted&&i<o||t.inverted&&i>o)&&(i=o)):f.getIndex()===u&&(s=r.addInterval(t.endValue,t.minRange,!t.inverted),(!t.inverted&&i>s||t.inverted&&i<s)&&(i=s))),i},_applySliderPosition:function(n,t){var i=this,f=i._options.behavior.animationEnabled&&!t,r=i._options.canvas.top,u=i._slider;f||u.inAnimation?(u.inAnimation=!0,u.animate({translate:{x:n,y:r}},f?o:{duration:0},function(){u.inAnimation=!1}),i._sliderTracker.animate({translate:{x:n,y:r}},f?o:{duration:0})):(i._slider.applySettings({translateX:n,translateY:r}),i._sliderTracker.applySettings({translateX:n,translateY:r})),i._sliderTracker.updateHeight(),i._slider.updateHeight()},_applyShutterPosition:function(n,t){var i=this,r,f=i._shutter,s=i._options.behavior.animationEnabled&&!t,h=i.getIndex();h==u?r={x:i._options.canvas.left,y:i._options.canvas.top,width:n-i._options.canvas.left,height:i._options.canvas.height}:h==e&&(r={x:n+1,y:i._options.canvas.top,width:i._options.canvas.left+i._options.canvas.width-n,height:i._options.canvas.height}),r&&(s||f.inAnimation?(f.inAnimation=!0,f.animate(r,s?o:{duration:0},function(){f.inAnimation=!1})):f.applySettings(r))},_setValid:function(n){var t=this;t._marker&&t._marker.setValid(n),t._slider.setValid(n)},_setText:function(n){var t=this;t._marker&&t._marker.setText(n)},ctor:function(n,t){var i=this;i.callBase(n),i._index=t},getIndex:function(){return this._index},setAvailableValues:function(n){this._values=n},setAnotherSlider:function(n){this._anotherSlider=n},getAnotherSlider:function(){return this._anotherSlider},appendTrackers:function(n){var t=this;t._sliderTracker&&t._sliderTracker.append(n)},getSliderTracker:function(){return this._sliderTracker},changeLocation:function(){var n=this;n._marker&&n._marker.changeLocation(),n._index=this._index===u?e:u,n._lastPosition=null},setPosition:function(n,t,r){var f=this,e;r!==i?(e=f.getIndex()===u?f:f.getAnotherSlider(),e._setPositionForBothSliders(n,r)):f._setPosition(n,t)},getPosition:function(){return this._position},_applyOptions:function(){this._lastPosition=null},setValue:function(n,t){var r=this;n===i?(r._value=i,r._valuePosition=r._position=r.getIndex()===u?r._options.canvas.left:r._options.canvas.left+r._options.canvas.width,r._setText(f.consts.emptySliderMarkerText)):(r._value=r._correctBusinessValue(n,t),r._valuePosition=r._position=r._options.translator.translateX(r._value),r._setText(f.formatValue(r._value,r._options.sliderMarker)))},getValue:function(){return this._value},canSwap:function(){var i=this,n=i._options.scale,f,e,t;if(i._options.behavior.allowSlidersSwap){if(n.minRange)if(t=i.getAnotherSlider().getValue(),i.getIndex()===u){if(e=r.addInterval(n.endValue,n.minRange,!n.inverted),!n.inverted&&t>e||n.inverted&&t<e)return!1}else if(f=r.addInterval(n.startValue,n.minRange,n.inverted),!n.inverted&&t<f||n.inverted&&t>f)return!1;return!0}return!1},processDocking:function(){var n=this;n._position=n._valuePosition,n.applyPosition(!1),n._setValid(!0)},applyPosition:function(n){var t=this,i=t.getPosition();t._lastPosition!==i&&(t._applySliderPosition(i,n),t._applyShutterPosition(i,n),t._lastPosition=i)},on:function(n,t){var i=this;i._sliderTracker.on(n,t);if(i._marker)i._marker.getTracker().on(n,t)},_update:function(){var n=this;n._marker&&n._marker.applyOptions(n._options.sliderMarker),n._shutter&&n._shutter.applySettings({fill:n._options.shutter.color,fillOpacity:n._options.shutter.opacity}),n._slider&&n._slider.applyOptions({strokeWidth:n._options.sliderHandle.width,stroke:n._options.sliderHandle.color,strokeOpacity:n._options.sliderHandle.opacity})},_draw:function(n){var t=this,i,o,f,r,h,c,s=t.getIndex();f=t._renderer.createGroup({"class":"sliderArea"}),f.append(n),s===u?r=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,0,t._options.canvas.height,0):s===e&&(r=t._renderer.createRect(t._options.canvas.left,t._options.canvas.top,t._options.canvas.width,t._options.canvas.height,0)),r&&(r.append(f),i=t._createSlider(),i&&i.append(f),t._options.sliderMarker.visible&&(o=t._createSliderMarker({renderer:t._renderer,isLeftPointer:s===e,sliderMarkerOptions:t._options.sliderMarker}),o.draw(i)),t._shutter=r,t._slider=i,t._marker=o),t._drawSliderTracker(n)}}}())}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.SliderMarker=t.Class.inherit(function(){var u=function(n){this._renderer=n.renderer,this._text=n.text,this._isLeftPointer=n.isLeftPointer,this._options=n.sliderMarkerOptions,this._isValid=!0,t(this,{width:10,height:10})},f=function(n){this._options=n,this.update()},n=function(n,t){return{width:Math.round(2*n._options.padding+t.width),height:Math.round(2*n._options.padding+t.height*r.consts.fontHeightRatio)}},t=function(t,i){var r=n(t,i);t._points=[],t._isLeftPointer?(t._points.push({x:0,y:0}),t._points.push({x:r.width,y:0}),t._points.push({x:r.width,y:r.height}),t._points.push({x:t._options.pointerSize,y:r.height}),t._points.push({x:0,y:r.height+t._options.pointerSize})):(t._points.push({x:0,y:0}),t._points.push({x:r.width,y:0}),t._points.push({x:r.width,y:r.height+t._options.pointerSize}),t._points.push({x:r.width-t._options.pointerSize,y:r.height}),t._points.push({x:0,y:r.height}))},e=function(t,i){var r=n(t,i);return t._isLeftPointer?{x:0,y:r.height+t._options.pointerSize}:{x:r.width-1,y:r.height+t._options.pointerSize}},o=function(n){var t=this,i=t._options.padding;t._sliderMarkerGroup=t._renderer.createGroup({"class":"sliderMarker"}),t._sliderMarkerGroup.append(n),t._area=t._renderer.createArea(t.points,{fill:t._options.color}),t._area.append(t._sliderMarkerGroup),t._label=t._renderer.createText(t._text,i,i,{font:t._options.font,style:{"-webkit-user-select":"none"}}),t._label.append(t._sliderMarkerGroup),t._tracker=t._renderer.createRect(0,0,2*i,2*i+t._options.pointerSize,0,{fill:"grey",stroke:"grey",opacity:.0001,style:{cursor:"pointer"}}),t._tracker.append(t._sliderMarkerGroup),t._drawn=!0,t.update()},s=function(n){var t=n._label.getBBox();return!n._textHeight&&isFinite(t.height)&&(n._textHeight=t.height),{width:t.width,height:n._textHeight}},i=function(r){var u=this,f,o,h;(u._interval&&clearInterval(u._interval),delete u._interval,u._drawn)&&(u._label.updateText(u._text),f=s(u),r?delete u._textSize:(u._textSize=u._textSize||f,u._textSize=f.width>u._textSize.width||f.height>u._textSize.height?f:u._textSize,f=u._textSize,u._interval=setInterval(function(){i.call(u,[!0])},75)),o=n(u,f),h=e(u,f),u._sliderMarkerGroup.applySettings({translateX:-h.x,translateY:-h.y}),t(u,f),u._area.applySettings({points:u._points,fill:u._isValid?u._options.color:u._options.invalidRangeColor}),u._tracker.applySettings({width:o.width,height:o.height+u._options.pointerSize}),u._label.applySettings({x:u._options.padding,y:o.height-u._options.padding}))},h=function(){var n=this;return n._text},c=function(n){var t=this;t._text!==n&&(t._text=n,t.update())},l=function(n){var t=this;t._isValid=n,t.update()},a=function(){var n=this;n._isLeftPointer=!n._isLeftPointer,n.update()},v=function(){var n=this;return n._tracker};return{ctor:u,draw:o,update:i,getText:h,setText:c,changeLocation:a,applyOptions:f,getTracker:v,setValid:l}}())}(jQuery,DevExpress),function(n,t){var r=t.viz.rangeSelector;r.RangeView=r.BaseVisualElement.inherit(function(){var n=function(n){return t.viz.charts.factory.createThemeManager(n.chart.theme)};return{_draw:function(n){var t=this,o,s,f,u,r,e,i,h=t._options.isEmpty;if(e=t._options.seriesDataSource&&t._options.seriesDataSource.isShowChart()&&!h,i=t._options.canvas,e?f=t._options.seriesDataSource.getBackgroundColor():!h&&t._options.background.visible&&(f=t._options.background.color),t._options.background.visible&&f&&(o=t._renderer.createRect(i.left,i.top,i.width+1,i.height,0,{fill:f,"class":"dx-range-selector-background"}),o.append(n)),t._options.background.visible&&t._options.background.image&&t._options.background.image.url&&(s=t._renderer.createImage(i.left,i.top,i.width+1,i.height,t._options.background.image.url,{location:t._options.background.image.location}),s.append(n)),e)for(u=t._options.seriesDataSource.getSeries(),r=0;r<u.length;r++)u[r].options.seriesGroup=n,u[r].options.seriesLabelsGroup=n,u[r].options.trackerGroup=n,t._options.chart.useAggregation&&u[r].resamplePoints(t._options.translator),u[r].draw(t._options.translator,t._options.behavior&&t._options.behavior.animationEnabled&&t._renderer.animationEnabled())}}}())}(jQuery,DevExpress),function(n,t,i){var u=t.viz.rangeSelector,r=t.viz.charts;u.SeriesDataSource=t.Class.inherit(function(){var u=function(n){return r.factory.createThemeManager(n,"rangeSelector.chart")},f=function(i){return n.isArray(i)&&i.length>0&&(t.utils.isNumber(i[0])||t.utils.isDate(i[0]))},e=function(t){return n.map(t,function(n,t){return{arg:n,val:t}})},o=function(t,o){var l=[],a,b,v,k,nt,p=u(o.chart),s=o.chart.series,g=o.chart.valueAxis&&o.chart.valueAxis.valueType,y,c,h,w,d;for(o.dataSource&&!s&&(f(o.dataSource)&&(o.dataSource=e(o.dataSource)),y=o.dataSourceField||"arg",s={argumentField:y,valueField:y},t._hideChart=!0),s=n.isArray(s)?s:s?[s]:[],c=p.applyTheme(p.getTheme(),o.chart),n.extend(c.commonSeriesSettings,{argumentType:o.valueType,valueType:y?o.valueType:g,incidentOccured:o.incidentOccured}),t._backgroundColor=o.backgroundColor!==i?o.backgroundColor:c.backgroundColor,h=0;h<s.length;h++)a=s[h],a.rotated=!1,v=o.dataSource,b=p.applyNextSeriesTheme(a,c.commonSeriesSettings),v&&v.length>0&&(w=r.factory.createSeries(a.type||c.commonSeriesSettings.type,o.renderer,b),w._suppressTrackers=!0,l.push(w));for(t._dataValidator=r.factory.createDataValidator(v,[l],o.incidentOccured,c.dataPrepareSettings),k=t._dataValidator.validate(),h=0;h<l.length;h++)d=l[h],d.reinitData(k);return l},s=function(t,i){var f=[],u=[];return n.each(t,function(t,i){n.inArray(i.type,u)===-1&&u.push(i.type)}),n.each(u,function(n,u){var e=new r.factory.createSeriesFamily({type:u,equalBarWidth:i});e.add(t),e.adjustSeriesValues(),f.push(e)}),f};return{ctor:function(n){var t=this;t._indent={top:n.chart.topIndent>=0&&n.chart.topIndent<1?n.chart.topIndent:0,bottom:n.chart.bottomIndent>=0&&n.chart.bottomIndent<1?n.chart.bottomIndent:0},t._valueAxis=n.chart.valueAxis||{},t._hideChart=!1,t._series=o(t,n),t._seriesFamilies=s(t._series,n.chart.equalBarWidth)},adjustSeriesDimensions:function(t){var i=this;n.each(i._seriesFamilies,function(){this.adjustSeriesDimensions(t)})},getBoundRange:function(){for(var u=this,l,c,t=new r.Range({minY:u._valueAxis.min,minVisibleY:u._valueAxis.min,maxY:u._valueAxis.max,maxVisibleY:u._valueAxis.max}),o,f,s,h,e=0;e<u._series.length;e++)c=u._series[e].getRangeData(),t=t.getBoundRange(c);return t.isDefined()&&(s=u._valueAxis.inverted?u._indent.top:u._indent.bottom,h=u._valueAxis.inverted?u._indent.bottom:u._indent.top,o=t.maxY-t.minY,f=(n.isNumeric(t.maxVisibleY)?t.maxVisibleY:t.maxY)-(n.isNumeric(t.minVisibleY)?t.minVisibleY:t.minY),t.minY-=o*s,t.maxY+=o*h,n.isNumeric(f)&&(t.maxVisibleY=t.maxVisibleY?t.maxVisibleY+f*h:i,t.minVisibleY=t.minVisibleY?t.minVisibleY-f*s:i),t.invertY=u._valueAxis.inverted),t},getSeries:function(){var n=this;return n._series},getBackgroundColor:function(){var n=this;return n._backgroundColor},isEmpty:function(){var n=this;return n.getSeries().length===0},isShowChart:function(){var n=this;return!n.isEmpty()&&!n._hideChart},getCalculatedValueType:function(){var n=this,t;return n._series.length&&(t=n._series[0].options.argumentType),t}}}())}(jQuery,DevExpress),function(n,t){var o=t.viz.rangeSelector,r=o.utils,u=t.utils,e=-1e3,f=function(n,t){var u;if(!n||n.length===0)return-1;for(var r=0,i=n.length-1,u=0;i-r>1;)u=r+i>>1,n[u]>t?i=u:r=u;return n[i]<=t?i:r},s=function(n,t){var i=f(n,t);return n&&i>=0&&i<n.length?n[i]:t},h=function(n,t){var i=f(n,t);return n&&i>=0&&i<n.length?(i+1<n.length&&(u.isDate(t)?n[i+1].getTime()-t.getTime()<t.getTime()-n[i].getTime()&&i++:n[i+1]-t<t-n[i]&&i++),n[i]):t},c=function(n,t){var i=f(n,t);return n&&i>=0&&i<n.length?(n[i]<t&&i+1<n.length&&i++,n[i]):t},l=function(n,t,i){var r,f,e,o,s;return u.isDate(n)?i==="year"||i==="quarter"||i==="month"?{months:t.getFullYear()*12+t.getMonth()-n.getFullYear()*12-n.getMonth()}:{milliseconds:t.valueOf()-n.valueOf()}:t-n},a=function(n){return u.getRootOffset(n).left||0},v=function(n){var t=0;return n.pageX?t=n.pageX:n.originalEvent&&n.originalEvent.pageX&&(t=n.originalEvent.pageX),n.originalEvent&&n.originalEvent.touches&&(n.originalEvent.touches.length>0?t=n.originalEvent.touches[0].pageX:n.originalEvent.changedTouches.length>0&&(t=n.originalEvent.changedTouches[0].pageX)),t},y=function(n,t,i){var r=n.createText(t,e,e,{font:i}).append(),u=r.getBBox();return r.remove(),u};r.findLessOrEqualValue=s,r.findNearValue=h,r.findGreaterOrEqualValue=c,r.getInterval=l,r.getRootOffsetLeft=a,r.getEventPageX=v,r.getTextBBox=y}(jQuery,DevExpress),function(n,t){t.viz.rangeSelector=t.viz.rangeSelector,t.viz.rangeSelector.ThemeManager=t.viz.core.BaseThemeManager.inherit({ctor:function(n){var t=this;t.callBase(n,"rangeSelector"),t.initializeFont(t.theme.scale.label.font),t.initializeFont(t.theme.sliderMarker.font)},applyRangeSelectorTheme:function(n){var i=this,r={dataSource:n.dataSource},t;return delete n.dataSource,t=i.applyTheme(i.theme,n),t.dataSource=r.dataSource,t},setBackgroundColor:function(n){var t=this.theme;n&&(t.containerBackgroundColor=n),t.shutter.color=t.shutter.color||t.containerBackgroundColor}})}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.viz;r.registerComponent("dxRangeSelector",u.rangeSelector.RangeSelector)}(jQuery,DevExpress),DevExpress.MOD_VIZ_RANGESELECTOR=!0}