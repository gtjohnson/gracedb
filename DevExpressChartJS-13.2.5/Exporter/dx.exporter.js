/*! 
* DevExpress Exporter (part of ChartJS)
* Version: 13.2.5
* Build date: Dec 3, 2013
*
* Copyright (c) 2012 - 2013 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: http://chartjs.devexpress.com/EULA
*/
"use strict";DevExpress.MOD_TMP_WIDGETS_FOR_EXPORTER||(function(n,t){var r=t.ui,c=t.utils,l=r.events,e="<div />",a=50,o=l.addNamespace("dxclick","dxMenu"),v="dx-menu",y="dx-menu-group",s="dx-menu-item",p="dx-menu-empty-childitems",u="dx-menu-child-items",w="dx-menu-image",b="dx-menu-caption",k="dx-menu-chouser-down",f="dx-menu-main-item-hovered",h=t.Class.inherit({_addItems:function(t){var i=this;n.each(t.items,function(n,t){var r=new h(t);i._items.push(r)})},_createDiv:function(t){return n(e).addClass(t)},_drawItem:function(){var n=this,t=n._createDiv(s),i,r,u;return(n.imageUrl||n.imageCSS)&&(i=n._createDiv(w),n.imageUrl&&i.append('<img src="'+n.imageUrl+'" />'),n.imageCSS&&i.addClass(n.imageCSS),t.append(i)),r=n._createDiv(b).text(n.caption),t.append(r),n._items.length?(u=n._createDiv(k),t.append(u)):t.addClass(p),t},_draw:function(t){var i=this,f,e=i._createDiv(u).hide(),r=i._createDiv(y);f=i._drawItem(),n.each(i._items,function(n,t){t._draw(e)}),i._subscribeToItem(r,f,e),r.append(f),i._items.length&&r.append(e),t.append(r)},_subscribeToItem:function(n,t,i){var r=this;n.on("mouseenter",function(u){r._showPopup(u,n,t,i,r)});n.on("mouseleave",function(u){r._hidePopup(u,n,t,i,r)});t.on(o,function(u){r._popupShowed?r._hidePopup(u,n,t,i,r):r._showPopup(u,n,t,i,r),c.isFunction(r.click)?r.click(r):r._items.length&&u.stopPropagation()})},_showPopup:function(t,i,r,e,o){e.outerWidth()<r.outerWidth()&&e.outerWidth(r.outerWidth()),e.stop().fadeIn(a),n(window).width()<=e.offset().left+e.outerWidth()&&e.css({left:-e.outerWidth()+i.outerWidth()}),i.parent().hasClass(u)||r.addClass(f),o._popupShowed=!0},_hidePopup:function(n,t,i,r,u){r.stop().hide(),i.removeClass(f),r.css({left:""}),u._popupShowed=!1},ctor:function(n){var t=this;t.name=n.name,t.caption=n.caption,t.imageUrl=n.imageUrl,t.imageCSS=n.imageCSS,t.click=n.click,t._items=[],n.items&&n.items.length&&t._addItems(n)}});r.registerComponent("dxMenu",r.Widget.inherit({_init:function(){var n=this.option(["items","name"]);this._menuItem=new h(n)},_hideAllItems:function(t){n.each(t.find("."+u),function(t,i){n(i).hide()}),n.each(t.find("."+s),function(t,i){n(i).removeClass(f)})},addItems:function(n){this._menuItem._addItems(n)},_render:function(){var t=this,r=t.option("align"),i=n(e).addClass(v);r&&i.css("float",r);n(document).on(o,function(){t._hideAllItems(t._$element)});t._$element.append(i),n.each(t._menuItem._items,function(n,t){t._draw(i)})}}))}(jQuery,DevExpress),DevExpress.MOD_TMP_WIDGETS_FOR_EXPORTER=!0);DevExpress.MOD_TMP_EXPORTER||(function(n,t){var i=n.ui,s=n.utils,r="file",h="body",e="dx-exporter-icon-to",o="dx-exporter-icon-print",c="dx-non-printable",l="dx-printable",u=["PDF","PNG","SVG"],f=i.Component.inherit({_updateSvGForIE:function(n){var i=/xmlns="[\s\S]*?"/gi,t=!0;return n=n.replace(i,function(n){var i="";return t&&(i=n,t=!1),i}),n.replace(/xmlns:NS1="[\s\S]*?"/gi,"").replace(/NS1:xmlns:xlink="([\s\S]*?)"/gi,'xmlns:xlink="$1"')},_getSvgElements:function(){var n=this,i=[];return t(t(n.option("sourceContainerId"))).find("svg").each(function(r){i[r]=n._updateSvGForIE(t(this).clone().wrap("<div><\/div>").parent().html())}),JSON.stringify(i)},_appendTextArea:function(n,i,r){t("<textarea/>",{id:n,name:n,val:i}).appendTo(r)},_formSubmit:function(n){n.submit(),n.remove()},_defaultOptions:function(){return{menuAlign:"right",exportFormat:u,printingEnabled:!0,fileName:r}},_createWindow:function(){return window.open("","printDiv","")},_createExportItems:function(n){var i=this,f=i.option("fileName");return t.map(n,function(n){return(n=n.toUpperCase(),t(t(i.option("sourceContainerId"))).find("svg").length>1&&n==="SVG")?null:t.inArray(n.toUpperCase(),u)===-1?null:{name:n,caption:n+" "+r,click:function(n){i.exportTo(f,n.name)}}})},_render:function(){var n=this,u=n._createExportItems(n.option("exportFormat")),i=t("<div />"),r=[{name:"export",imageCSS:e,items:u}],f={align:n.option("menuAlign"),items:r};n.option("printingEnabled")&&r.push({imageCSS:o,name:"print",click:function(){n.print()}}),i.dxMenu(f),n._$element.append(i)},print:function(){var i=t(this.option("sourceContainerId")).html(),n=this._createWindow();t(n.document.body).html(i),n.document.close(),n.focus(),n.print(),n.close()},exportTo:function(n,i){var r=this,f=t(r.option("sourceContainerId")),u=t("<form/>",{method:"POST",action:r.option("serverUrl"),enctype:"application/x-www-form-urlencoded",target:"_self",css:{display:"none",visibility:"hidden"}});r._appendTextArea("exportContent",f.clone().wrap("<div><\/div>").parent().html(),u),r._appendTextArea("svgElements",r._getSvgElements(),u),r._appendTextArea("fileName",n,u),r._appendTextArea("format",i.toLowerCase(),u),r._appendTextArea("width",f.width(),u),r._appendTextArea("height",f.height(),u),r._appendTextArea("url",window.location.host,u),t(document.body).append(u),r._formSubmit(u)}});t.extend(!0,n,{exporter:{Exporter:f}}),i.registerComponent("dxExporter",f)}(DevExpress,jQuery),DevExpress.MOD_TMP_EXPORTER=!0);